{% extends 'base.html' %}
{% load static %}

{% block title %}Setting{% endblock %}

{% block content %}

<main class="w-full md:w-[calc(100%-256px)] md:ml-64 bg-gray-50 min-h-screen transition-all main">
    <!-- start: ez-nav -->
    <div class="py-2 px-6 bg-white flex items-center shadow-md shadow-black/5 sticky top-0 left-0 z-30 pt-3 pb-3">
        <ul class="flex items-center text-sm ml-4">
            <li class="mr-2">
                <a href="{% url 'home' %}" class="text-gray-400 hover:text-gray-600 font-medium">BudgetBuddy</a>
            </li>
            <li class="text-gray-600 mr-2 font-medium">/</li>
            <li class="text-gray-600 mr-2 font-medium">Setting</li>
        </ul>
    </div>
    <!-- end: ez-nav -->
    <div class="text-2xl w-full flex justify-center h-screen items-center">
        <div class="bg-white rounded-md border border-dashed border-gray-200 p-4 shadow-md shadow-black/5 flex flex-col items-center justify-center mx-96 mt-32 w-3/4">
            <form action="{% url 'edit-profile' %}" class="w-3/4 flex flex-col items-center justify-center" method="post" enctype="multipart/form-data">
                {% csrf_token %}
                <div class="w-32 mb-4">
                    {% if profile_image %}
                        <img src="../../../media/{{profile_image}}" alt="Profile Image" class="rounded-full">
                    {% else %}
                        <img src="https://st3.depositphotos.com/15648834/17930/v/450/depositphotos_179308454-stock-illustration-unknown-person-silhouette-glasses-profile.jpg" alt="Default Profile Image" class="rounded-full">
                    {% endif %}
                </div>
                {% if messages %}
                    <div class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative" role="alert">
                        {% for message in messages %}
                            <strong class="font-bold">{{ message }}</strong>
                        {% endfor %}
                    </div>
                {% endif %}
                <div class="w-3/4 flex flex-col items-start mb-6">
                    <label for="profile_image" class="block mb-2">Upload Profile Image</label>
                    <input name="profile_image" type="file" class="py-2 pr-4 pl-4 bg-gray-50 w-full outline-none border border-gray-100 rounded-md text-sm focus:border-blue-500">
                </div>
                <div class="w-3/4 flex flex-col items-start mb-6">
                    <label for="username" class="block mb-2">Username</label>
                    <input name="username" type="text" class="py-2 pr-4 pl-4 bg-gray-50 w-full outline-none border border-gray-100 rounded-md text-sm focus:border-blue-500" value="{{user.username}}" placeholder="" required>
                    {% for error in form.username.errors %}
                        <div class="text-rose-700 text-sm mt-1">{{ error }}</div>
                    {% endfor %}
                </div>
                <div class="w-3/4 flex flex-col items-start mb-6">
                    <label for="email" class="block mb-2">Email</label>
                    <input name="email" type="text" class="py-2 pr-4 pl-4 bg-gray-50 w-full outline-none border border-gray-100 rounded-md text-sm focus:border-blue-500" value="{{user.email}}" placeholder="" required>
                    {% for error in form.email.errors %}
                        <div class="text-red-500 text-sm mt-1">{{ error }}</div>
                    {% endfor %}
                </div>
                <div class="w-3/4 flex flex-col items-start mb-6">
                    <label for="xyz" class="block mb-2">Password</label>
                    <input name="xyz" type="password" class="py-2 pr-4 pl-4 bg-gray-50 w-full outline-none border border-gray-100 rounded-md text-sm focus:border-blue-500" value="jpjapanpop11jpjapanpop11" placeholder="" readonly>
                </div>
                <div class="my-4 w-full flex justify-between">
                    <a href="{% url 'reset-password' %}" type="button" class="w-1/2 text-base sm:text-md md:text-lg lg:text-2xl py-2 px-4 text-white text-center bg-rose-700 hover:bg-rose-600 hover:text-gray-300 rounded-md mr-4">
                        <i class="ri-lock-line"></i>
                        Reset Password
                    </a>
                    <button type="submit" class="w-1/2 text-base sm:text-md md:text-lg lg:text-2xl py-2 px-4 text-white text-center bg-blue-700 hover:bg-blue-600 hover:text-gray-300 rounded-md">
                        <i class="ri-profile-line"></i>
                        Update Profile
                    </button>
                </div>
            </form>
        </div>
    </div>
    
</main>

{% endblock %}